<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>{{ personal_info.full_name }} - Resume</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
    
    * {
      box-sizing: border-box;
    }
    
    body { 
      font-family: 'Inter', 'Segoe UI', system-ui, sans-serif; 
      margin: 0; 
      padding: 10px; 
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: #2d3748;
      line-height: 1.4;
    }
    
    .container { 
      max-width: 900px; 
      margin: 0 auto; 
      background: white; 
      border-radius: 8px;
      box-shadow: 0 15px 30px rgba(0,0,0,0.1); 
      overflow: hidden;
      position: relative;
    }
    
    .container::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(90deg, #4299e1, #3182ce, #2b77cb);
    }
    
    .header { 
      background: linear-gradient(135deg, #2d3748 0%, #4a5568 100%);
      color: white; 
      padding: 25px 30px 20px;
      text-align: center; 
      position: relative;
    }
    
    .header::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      height: 1px;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
    }
    
    .profile-pic { 
      width: 70px; 
      height: 70px; 
      border-radius: 50%; 
      margin: 0 auto 12px; 
      display: block; 
      object-fit: cover; 
      border: 3px solid rgba(255,255,255,0.2);
      box-shadow: 0 6px 12px rgba(0,0,0,0.2);
    }
    
    h1 { 
      margin: 0 0 4px; 
      font-size: 24px; 
      font-weight: 700;
      letter-spacing: -0.5px;
    }
    
    .contact { 
      font-size: 12px; 
      opacity: 0.9;
      font-weight: 400;
      letter-spacing: 0.3px;
    }
    
    .main { 
      display: flex;
      gap: 20px;
      padding: 20px 30px 25px;
    }
    
    .left-column { 
      flex: 0 0 240px;
      padding-right: 15px;
    }
    
    .right-column { 
      flex: 1;
      min-width: 0;
    }
    
    h2 { 
      color: #2d3748; 
      font-size: 15px; 
      font-weight: 600;
      margin: 0 0 10px; 
      padding-bottom: 5px;
      border-bottom: 2px solid #e2e8f0;
      position: relative;
    }
    
    h2::before {
      content: '';
      position: absolute;
      bottom: -2px;
      left: 0;
      width: 25px;
      height: 2px;
      background: linear-gradient(90deg, #4299e1, #3182ce);
    }
    
    .section { 
      margin-bottom: 16px; 
    }
    
    .section:last-child {
      margin-bottom: 0;
    }
    
    .item { 
      margin-bottom: 10px; 
    }
    
    .item-title { 
      font-weight: 600; 
      font-size: 14px; 
      margin-bottom: 2px; 
      color: #1a202c;
    }
    
    .item-subtitle { 
      color: #718096; 
      font-size: 11px;
      font-weight: 500;
      margin-bottom: 4px;
    }
    
    .item-content { 
      font-size: 12px;
      color: #4a5568;
      line-height: 1.4;
    }
    
    .skills-grid { 
      display: flex;
      flex-wrap: wrap;
      gap: 5px;
    }
    
    .skill { 
      background: linear-gradient(135deg, #ebf8ff 0%, #bee3f8 100%);
      color: #2b77cb; 
      padding: 5px 8px; 
      border-radius: 15px; 
      font-size: 10px; 
      font-weight: 500;
      border: 1px solid #bee3f8;
      transition: all 0.2s ease;
    }
    
    .skill:hover {
      background: linear-gradient(135deg, #bee3f8 0%, #90cdf4 100%);
      transform: translateY(-1px);
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }
    
    .summary {
      font-size: 12px;
      line-height: 1.4;
      color: #4a5568;
      padding: 10px;
      background: #f7fafc;
      border-radius: 6px;
      border-left: 3px solid #4299e1;
      margin-bottom: 2px;
    }
    
    .experience-item {
      margin-bottom: 12px;
      padding: 12px;
      background: #fafafa;
      border-radius: 6px;
      border-left: 2px solid #e2e8f0;
      transition: all 0.2s ease;
    }
    
    .experience-item:hover {
      border-left-color: #4299e1;
      box-shadow: 0 4px 12px rgba(0,0,0,0.05);
    }
    
    .project-item {
      margin-bottom: 10px;
      padding: 10px;
      background: #f8f9fa;
      border-radius: 6px;
      border: 1px solid #e9ecef;
    }
    
    .project-tech {
      font-size: 10px;
      color: #6c757d;
      margin-top: 4px;
      font-weight: 500;
    }
    
    .project-url {
      font-size: 10px;
      color: #4299e1;
      text-decoration: none;
      font-weight: 500;
      display: inline-block;
      margin-top: 3px;
    }
    
    .project-url:hover {
      text-decoration: underline;
      color: #3182ce;
    }
    
    .education-item,
    .certification-item {
      margin-bottom: 8px;
      padding: 8px;
      background: #f8fafc;
      border-radius: 4px;
      border-left: 2px solid #cbd5e0;
    }
    
    .language-skill {
      background: linear-gradient(135deg, #f0fff4 0%, #c6f6d5 100%);
      color: #22543d;
      border: 1px solid #c6f6d5;
    }
    
    .language-skill:hover {
      background: linear-gradient(135deg, #c6f6d5 0%, #9ae6b4 100%);
    }
    
    /* Enhanced spacing and typography */
    .left-column .section {
      margin-bottom: 14px;
    }
    
    .right-column .section {
      margin-bottom: 16px;
    }
    
    /* Contact icons styling */
    .contact-item {
      display: inline-block;
      margin: 0 8px;
    }
    
    /* Print styles */
    @media print {
      body {
        padding: 0;
        background: white;
      }
      
      .container {
        box-shadow: none;
        border-radius: 0;
        max-width: none;
      }
      
      .container::before {
        display: none;
      }
      
      .main {
        flex-direction: column;
        gap: 20px;
      }
      
      .left-column {
        flex: none;
        padding-right: 0;
      }
      
      .section {
        page-break-inside: avoid;
      }
      
      .experience-item,
      .project-item {
        page-break-inside: avoid;
        background: white;
        border: 1px solid #e2e8f0;
      }
      
      .skill:hover,
      .language-skill:hover {
        transform: none;
        box-shadow: none;
      }
      
      .section-content,
      .experience-item,
      .project-item,
      .education-item,
      .certification-item {
        break-inside: avoid;
        page-break-inside: avoid;
      }
      .main, .left, .right, .content, .container {
        display: block !important;
      }
    }
    
    /* Responsive design */
    @media (max-width: 768px) {
      body {
        padding: 10px;
      }
      
      .main {
        flex-direction: column;
        gap: 20px;
        padding: 25px 30px 30px;
      }
      
      .left-column {
        flex: none;
        padding-right: 0;
      }
      
      .header {
        padding: 30px 30px 25px;
      }
      
      h1 {
        font-size: 28px;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      {% if personal_info.profile_pic %}
      <img src="{{ personal_info.profile_pic }}" alt="Profile Picture" class="profile-pic">
      {% endif %}
      <h1>{{ personal_info.full_name }}</h1>
      <div class="contact">
        <span class="contact-item">{{ personal_info.email }}</span>
        <span class="contact-item">{{ personal_info.phone }}</span>
        {% if personal_info.location %}
        <span class="contact-item">{{ personal_info.location }}</span>
        {% endif %}
      </div>
    </div>

    <div class="main">
      <div class="left-column">
        {# Left Column: Profile, Skills, Languages #}
        {# Profile section #}
        {% if personal_info.summary %}
        <div class="section">
          <h2>Profile</h2>
          <div class="summary">{{ personal_info.summary }}</div>
        </div>
        {% endif %}

        {# Skills section #}
        <div class="section">
          <h2>Skills</h2>
          <div class="skills-grid">
            {% for skill in skills %}
            <div class="skill">{{ skill }}</div>
            {% endfor %}
          </div>
        </div>

        {# Languages section #}
        {% if languages %}
        <div class="section">
          <h2>Languages</h2>
          <div class="skills-grid">
            {% for lang in languages %}
            <div class="skill language-skill">{{ lang.name }} ({{ lang.proficiency }})</div>
            {% endfor %}
          </div>
        </div>
        {% endif %}
      </div>

      <div class="right-column">
        {# Right Column: Experience, Education, Projects, Certifications #}
        {# Experience section #}
        <div class="section">
          <h2>Experience</h2>
          {% for exp in experience %}
          <div class="experience-item">
            <div class="item-title">{{ exp.position }}</div>
            <div class="item-subtitle">{{ exp.company }} | {{ exp.start_date }} - {{ exp.end_date }}</div>
            <div class="item-content">{{ exp.description }}</div>
          </div>
          {% endfor %}
        </div>

        {# Education section #}
        <div class="section">
          <h2>Education</h2>
          {% for edu in education %}
          <div class="education-item">
            <div class="item-title">{{ edu.degree }}</div>
            <div class="item-subtitle">{{ edu.institution }}
              {% if edu.year %} | {{ edu.year }}{% endif %}
              {% if edu.gpa %} | GPA: {{ edu.gpa }}{% endif %}
            </div>
          </div>
          {% endfor %}
        </div>

        {# Projects section #}
        {% if projects %}
        <div class="section">
          <h2>Projects</h2>
          {% for project in projects %}
          <div class="project-item">
            <div class="item-title">{{ project.name }}</div>
            <div class="item-content">
              {{ project.description }}
              <div class="project-tech">Technologies: {{ project.technologies }}</div>
              {% if project.url %}
              <a href="{{ project.url }}" class="project-url" target="_blank">{{ project.url }}</a>
              {% endif %}
            </div>
          </div>
          {% endfor %}
        </div>
        {% endif %}

        {# Certifications section #}
        {% if certifications %}
        <div class="section">
          <h2>Certifications</h2>
          {% for cert in certifications %}
          <div class="certification-item">
            <div class="item-title">{{ cert.name }}</div>
            <div class="item-subtitle">{{ cert.issuer }} | {{ cert.date }}
              {% if cert.credential_id %}<br/>Credential ID: {{ cert.credential_id }}{% endif %}
            </div>
          </div>
          {% endfor %}
        </div>
        {% endif %}
      </div>
    </div>
  </div>
</body>
</html>

